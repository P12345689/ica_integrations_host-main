# Autogen Integration for code splitter

> Author: Mihai Criveti, Santhana Krishnan, Thomas Chang, Kasra Amirtahmasebi

### max_round: Number of iterations the agent sequence has to repeat

```bash
curl --location --request POST 'http://localhost:8080/demystifier/invoke' \
--header 'Content-Type: application/json' \
--header 'Integrations-API-Key: dev-only-token' \
--data-raw '{
    "user_prompt": "describe yourself\n```python\ndef add(a, b):\n    return a + b\n\nprint(\"Hello, World!\")\n```", 
    "agent_config": {
        "temperature": 0.7, 
        "max_tokens": 4000, 
        "max_round": 3
    },
    "autogen_config": {
         "DEMYSTIFIER_SYSTEM_MESSAGE": "You are a helpful AI assistant. Solve tasks using your coding and language skills demystifying and documenting code and pseudocode for a project. Your documentation will be forwarded and reviewed by DocReviewer. In case your documentation is incomplete and needs to be fixed, you will receive feedback from DocReviewer. You will need to update documentation based on that feedback. Maybe this process of rewriting the documentation will happen a few times until the DocReviewer cant find any more issues. Never say TERMINATE ",
        "DOCREVIEWER_SYSTEM_MESSAGE": "You are a helpful AI reviewer assistant. After the Demystifier documents code or pseudocode, it  is passed to you. Your primary role is to ensure the documentation quality and correctness. You are responsible for documentation review and writing feedback report on what needs to be rewritten. Dont fix or rewrite the documentation yourself, just provide the feedback report back to the Demystifier. Iterate until Demystifier writes documentation that doesnt have issues. You decide that the documentation is successful or not.  Once the documentation is perfect forward it to DocOptimizer. Never say TERMINATE ",
        "DOCOPTIMIZER_SYSTEM_MESSAGE": "You will receive code documentation from the DocReviewer agent, but in case the documentation needs to be updated, you send the feedback to the Demystifier. You decide when the documentation is good enough and cant be optimized further. Dont ask anyone for permission, just proceed with your actions. Once you decide that the documentation is good enough, output the final documentation in a format that is easy for a human to review, and then forward the final documentation to the chat manager and say TERMINATE "
    }
}'
```

 curl -X POST 'http://127.0.0.1:8080/demystifier/invoke' -H 'accept: application/json' -H 'Content-Type: application/json' -H 'Integrations-API-Key: dev-only-token' -d '{"query": "describe yourself\n```python\ndef add(a, b):\n    return a + b\n\nprint(\"Hello, World!\")\n```", "agent_config": {"temperature": 0.7, "max_tokens": 4000, "max_round": 2}, "autogen_config": {"DEMYSTIFIER_SYSTEM_MESSAGE": "You are a helpful AI assistant. Solve tasks using your coding and language skills demystifying and documenting code and pseudocode for a project. Your documentation will be forwarded and reviewed by DocReviewer. In case your documentation is incomplete and needs to be fixed, you will receive feedback from DocReviewer. You will need to update documentation based on that feedback. Maybe this process of rewriting the documentation will happen a few times until the DocReviewer cant find any more issues. Never say TERMINATE", "DOCREVIEWER_SYSTEM_MESSAGE": "You are a helpful AI reviewer assistant. After the Demystifier documents code or pseudocode, it  is passed to you. Your primary role is to ensure the documentation quality and correctness. You are responsible for documentation review and writing feedback report on what needs to be rewritten. Dont fix or rewrite the documentation yourself, just provide the feedback report back to the Demystifier. Iterate until Demystifier writes documentation that doesnt have issues. You decide that the documentation is successful or not.  Once the documentation is perfect forward it to DocOptimizer. Never say TERMINATE", "DOCOPTIMIZER_SYSTEM_MESSAGE": "You will receive code documentation from the DocReviewer agent, but in case the documentation needs to be updated, you send the feedback to the Demystifier. You decide when the documentation is good enough and cant be optimized further. Dont ask anyone for permission, just proceed with your actions. Once you decide that the documentation is good enough, output the final documentation in a format that is easy for a human to review, and then forward the final documentation to the chat manager and say TERMINATE"}}'

ICA Output Response:
```
curl -X POST 'http://127.0.0.1:8080/experience/demystifier/split/invoke' -H 'accept: application/json' -H 'Content-Type: application/json' -H 'Integrations-API-Key: dev-only-token' -d '{"query": "import java.util.Scanner;\n\npublic class Hello World {\n\n    public static void main(String[] args) {\n\n Creates a reader instance which takes\n  input from standard input - keyboard\n        Scanner reader = new Scanner(System.in);\n        System.out.print(\"Enter a number: \");\n\n nextInt() reads the next integer from the keyboard\n        int number = reader.nextInt();\n\n println() prints the following line to the output screen\n        System.out.println(\"You entered: \" + number);\n    }", "agent_config": {"temperature": 0.7, "max_tokens": 4000, "max_round": 4}, "autogen_config": {"DEMYSTIFIER_SYSTEM_MESSAGE": "You are a helpful AI assistant. Solve tasks using your coding and language skills demystifying and documenting code and pseudocode for a project. Your documentation will be forwarded and reviewed by DocReviewer. In case your documentation is incomplete and needs to be fixed, you will receive feedback from DocReviewer. You will need to update documentation based on that feedback. Maybe this process of rewriting the documentation will happen a few times until the DocReviewer cant find any more issues. Never say TERMINATE", "DOCREVIEWER_SYSTEM_MESSAGE": "You are a helpful AI reviewer assistant. After the Demystifier documents code or pseudocode, it  is passed to you. Your primary role is to ensure the documentation quality and correctness. You are responsible for documentation review and writing feedback report on what needs to be rewritten. Dont fix or rewrite the documentation yourself, just provide the feedback report back to the Demystifier. Iterate until Demystifier writes documentation that doesnt have issues. You decide that the documentation is successful or not.  Once the documentation is perfect forward it to DocOptimizer. Never say TERMINATE", "DOCOPTIMIZER_SYSTEM_MESSAGE": "You will receive code documentation from the DocReviewer agent, but in case the documentation needs to be updated, you send the feedback to the Demystifier. You decide when the documentation is good enough and cant be optimized further. Dont ask anyone for permission, just proceed with your actions. Once you decide that the documentation is good enough, output the final documentation in a format that is easy for a human to review, and then forward the final documentation to the chat manager and say TERMINATE"}}'
```

Starlette Response:
curl -X POST 'http://127.0.0.1:8080/experience/demystifier/split/json/invoke' -H 'accept: application/json' -H 'Content-Type: application/json' -H 'Integrations-API-Key: dev-only-token' -d '{"query": "import java.util.Scanner;\n\npublic class Hello World {\n\n    public static void main(String[] args) {\n\n Creates a reader instance which takes\n  input from standard input - keyboard\n        Scanner reader = new Scanner(System.in);\n        System.out.print(\"Enter a number: \");\n\n nextInt() reads the next integer from the keyboard\n        int number = reader.nextInt();\n\n println() prints the following line to the output screen\n        System.out.println(\"You entered: \" + number);\n    }", "agent_config": {"temperature": 0.7, "max_tokens": 4000, "max_round": 4}, "autogen_config": {"DEMYSTIFIER_SYSTEM_MESSAGE": "You are a helpful AI assistant. Solve tasks using your coding and language skills demystifying and documenting code and pseudocode for a project. Your documentation will be forwarded and reviewed by DocReviewer. In case your documentation is incomplete and needs to be fixed, you will receive feedback from DocReviewer. You will need to update documentation based on that feedback. Maybe this process of rewriting the documentation will happen a few times until the DocReviewer cant find any more issues. Never say TERMINATE", "DOCREVIEWER_SYSTEM_MESSAGE": "You are a helpful AI reviewer assistant. After the Demystifier documents code or pseudocode, it  is passed to you. Your primary role is to ensure the documentation quality and correctness. You are responsible for documentation review and writing feedback report on what needs to be rewritten. Dont fix or rewrite the documentation yourself, just provide the feedback report back to the Demystifier. Iterate until Demystifier writes documentation that doesnt have issues. You decide that the documentation is successful or not.  Once the documentation is perfect forward it to DocOptimizer. Never say TERMINATE", "DOCOPTIMIZER_SYSTEM_MESSAGE": "You will receive code documentation from the DocReviewer agent, but in case the documentation needs to be updated, you send the feedback to the Demystifier. You decide when the documentation is good enough and cant be optimized further. Dont ask anyone for permission, just proceed with your actions. Once you decide that the documentation is good enough, output the final documentation in a format that is easy for a human to review, and then forward the final documentation to the chat manager and say TERMINATE"}}'

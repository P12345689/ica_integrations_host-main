# testcases_excel_mapper Integration

This integration provides functionality for generating manual test cases from user stories.

It has two steps involved -

1. Triggers a background task and returns a URL to downlaod the xlsx file with manual test cases. This URL can be used only after the completion of background task.
2. The background task is completed and the xlsx file is ready to be downloaded.

Input for the Generate Manual Test Cases assistant: - {
"Title": "Property Owner Login",
"Description": "As a Property Owner, I want to be able to log in to my account so that I can access my property information and maintenance requests.",
"Priority": "Medium",
"Classification": "Property Management",
"Constraints": "1. The Property Owner's account must be verified and activated before they can log in.\n2. The login process must comply with industry security standards and best practices.",
"Acceptance Criteria": "1. Given the Property Owner has a valid account, when they enter their login credentials, then they are redirected to their account dashboard.\n2. Given the Property Owner has a valid account, when they enter incorrect login credentials, then they are prompted to retry or reset their password.\n3. Given the Property Owner has a valid account, when they log in, then they can access their property information, including property details, maintenance history, and upcoming maintenance schedules.\n4. Given the Property Owner has a valid account, when they log in, then they can submit maintenance requests, including description, priority, and attachment.",
"Validation Rules": "1. The Property Owner's login credentials must match the stored credentials in the system.\n2. The Property Owner's account must be in an active state before they can log in.",
"Business Rules": "1. The Property Owner's account information must be kept confidential and secure.\n2. The Property Owner's maintenance requests must be reviewed and prioritized by the property management team.",
"Non-Functional Requirements (NFRs)": "1. The login process should be completed within 5 seconds for 95% of transactions.\n2. The online property management system application should be compatible with the latest version and the previous two versions of popular web browsers.\n3. The user interface for property management should adhere to established UX design principles, ensuring an intuitive experience for users.\n4. Property data storage should be encrypted and comply with industry security standards, safeguarding property owner privacy and preventing unauthorized access."
}
Output: An excel file with the test cases details for all the user stories.
This excel can be used to bulk import the test cases to JIRA.

This integration chains one assistant to generate manual test cases - Assistant 8481 is used for this purpose.
It also uses the xlsx_builder integration to generate xlsx file

This integration currently takes around 2 mins to generate 30-40 manual test cases.

## Endpoint

### 1. Initiate background tasks (Asynchronous)

-   **POST** `/system/testcases_excel_mapper/testcases_generate_excel/invoke`

    Executes the request asynchronously using BackgroundTasks. Returns a URL to download the xlsx file with manual test cases, which can be used after some time (once the background tasks are completed).

#### Example 1 - To generate test cases for the given user stories

```bash
curl --silent --location --request POST 'http://localhost:8080/system/testcases_excel_mapper/testcases_generate_excel/invoke' \
  --header 'Content-Type: application/json' \
  --header 'Integrations-API-Key: dev-only-token' \
  --data-raw '{
    "mtcAssistantId": "8481", "input": "Issue Type,Summary,Description,Priority,Classification,Acceptance Criteria\nStory,Property Owner Login,\"As a Property Owner, I want to be able to log in to my account so that I can access my property information and maintenance requests.\",Medium,Property Management,\"Constraints:\n1. The Property Owner'\''s account must be verified and activated before they can log in.\nAcceptance Criteria:\n1. Given the Property Owner has a valid account, when they enter their login credentials, then they are redirected to their account dashboard.\nValidation Rules:\n1. The Property Owner'\''s login credentials must match the stored credentials in the system.\nBusiness Rules:\n1. The Property Owner'\''s account information must be kept confidential and secure.\nNon-Functional Requirements (NFRs):\n1. The login process should be completed within 5 seconds for 95% of transactions.\nPlease let me know if this meets your expectations or if you'\''d like me to make any changes!\"\nStory,Service Provider Account Login,\"As a Service Provider using the online platform, I want to be able to log in to my account so that I can access my service requests and quotes.\",Medium,Account Management,\"Constraints:\n1. The Service Provider must have a valid email address and password to log in.\nAcceptance Criteria:\n1. The Service Provider can enter their email address and password to initiate the login process.\nValidation Rules:\n1. The email address and password must match the Service Provider'\''s registered credentials.\nBusiness Rules:\n1. The Service Provider'\''s login credentials should be stored securely and comply with industry security standards.\nNon-Functional Requirements (NFRs):\n1. The login process should take no more than 3 seconds to complete for 95% of users.\""
  }'
```

```json
{
    "status": "processing",
    "invocationId": "e76b815c-bf53-4c29-8327-ee9d57c435b7",
    "response": [
        {
            "message": "\nThe generation of manual testcases has started. Please use the following URL after 10 minutes, and within 24 hours, to access the generated manual testcases:\n\nhttp://127.0.0.1:8080/public/xlsx_builder/xlsx_fd2e6e28-3b55-426b-b094-147bd2281a0d.xlsx",
            "type": "text"
        }
    ]
}
```

# Example 2 - To generate test cases for the given user stories (more input items)

```bash
curl --silent --location --request POST 'http://localhost:8080/system/testcases_excel_mapper/testcases_generate_excel/invoke' \
  --header 'Content-Type: application/json' \
  --header 'Integrations-API-Key: dev-only-token' \
  --data-raw '{
    "mtcAssistantId": "8481", "input": "Issue Type,Summary,Description,Priority,Classification,Acceptance Criteria\nStory,Logging into Property Owner Account,\"As a Property Owner, I want to be able to log in to my account so that I can access my property information and maintenance requests.\",Medium,Account Management,\"Constraints:\n1. The Property Owner must have a valid username and password to log in.\n2. The Property Owner'\''s account must be active and not locked due to invalid login attempts.\n\nAcceptance Criteria:\n1. Given that the Property Owner has a valid username and password, when I enter my credentials, then I should be able to successfully log in to my account.\n2. Given that the Property Owner has an invalid username or password, when I enter my credentials, then I should receive an error message indicating that the login attempt was unsuccessful.\n3. Given that the Property Owner'\''s account is locked due to invalid login attempts, when I attempt to log in, then I should receive an error message indicating that the account is locked and provide instructions on how to reset the password.\n4. Given that the Property Owner has successfully logged in, when I navigate to the account dashboard, then I should be able to view my property information and maintenance requests.\n\nValidation Rules:\n1. The username and password should match the stored credentials in the database.\n2. The Property Owner'\''s account should be checked for any locks or restrictions before allowing login.\n\nBusiness Rules:\n1. Property Owners should be able to reset their passwords through a password reset process.\n2. The system should send a verification email to the Property Owner'\''s registered email address after a successful login.\n\nNon-Functional Requirements (NFRs):\n1. The login process should take no longer than 2 seconds to complete for 95% of users.\n2. The system should be compatible with the latest versions of popular web browsers, including Google Chrome, Mozilla Firefox, and Microsoft Edge.\n3. The user interface for logging in should be intuitive and easy to use, with clear instructions and minimal errors.\n4. The system should store Property Owner data securely, with encryption and access controls in place to prevent unauthorized access.\n\nLet me know if you would like to add or modify anything!\"\nStory,Service Provider Login,\"As a Service Provider, I want to be able to log in to my account so that I can access my job assignments and payment information.\",Medium,Account Management,\"Constraints:\n1. The Service Provider'\''s account must be verified and active before login is allowed.\n2. The Service Provider must have a valid username and password to log in.\n\nAcceptance Criteria:\n1. The login page displays a form with fields for username and password.\n2. The Service Provider can enter their username and password and click the login button.\n3. If the username and password are valid, the Service Provider is redirected to their account dashboard.\n4. The account dashboard displays the Service Provider'\''s job assignments and payment information.\n5. The Service Provider can access their job assignments and payment information by clicking on the respective tabs.\n\nValidation Rules:\n1. The username and password must match the stored values in the database.\n2. The Service Provider'\''s account must be verified and active before login is allowed.\n\nBusiness Rules:\n1. The Service Provider'\''s login credentials are stored securely in the database.\n2. The Service Provider'\''s job assignments and payment information are updated in real-time.\n\nNon-Functional Requirements (NFRs):\n1. The login process should take no longer than 2 seconds to complete for 95% of users.\n2. The login page should be accessible on desktop and mobile devices.\n3. The login process should be secure and protect the Service Provider'\''s account information from unauthorized access.\n4. The login process should comply with industry security standards and regulations.\"\nStory,View Login History,\"As a Property Owner using the online portal, I want to be able to view my login history so that I can monitor my account activity.\",Medium,Account Management,\"Constraints:\n1. The login history must be accessible only to the Property Owner who initiated the login session.\n2. The login history should only include login attempts made from the Property Owner'\''s authorized devices.\n\nAcceptance Criteria:\n1. The Property Owner can access their login history by navigating to their account dashboard.\n2. The login history displays a list of login attempts, including the date, time, and IP address of each attempt.\n3. The Property Owner can filter the login history by date range to view specific login attempts.\n4. The Property Owner can export the login history in a CSV format for further analysis.\n\nValidation Rules:\n1. The login history must be stored securely to prevent unauthorized access.\n2. The login history should only be accessible to the Property Owner who initiated the login session.\n\nBusiness Rules:\n1. The login history should be used to detect and prevent suspicious login attempts.\n2. The Property Owner can use the login history to identify potential security breaches.\n\nNon-Functional Requirements (NFRs):\n1. The login history should be displayed in a clear and concise manner, with easy-to-read formatting.\n2. The login history should be accessible from any device with a stable internet connection.\n3. The login history should be updated in real-time, reflecting the most recent login attempts.\n4. The login history should comply with industry security standards and regulations.\"\nStory,Reset Password,\"As a Service Provider, I want to be able to reset my password so that I can regain access to my account.\",Medium,Account Management,\"Constraints:\n1. The password reset feature should only be accessible to authorized Service Providers.\n2. The password reset process should be secure and compliant with industry security standards.\n\nAcceptance Criteria:\n1. Given a forgotten password, When I request a password reset, Then I receive an email with a password reset link.\n2. Given a password reset link, When I enter a new password, Then I receive a confirmation message indicating the password has been successfully reset.\n3. Given a successful password reset, When I log in with the new password, Then I am granted access to my account.\n4. Given an invalid password reset link, When I attempt to reset my password, Then I receive an error message indicating the link is invalid.\n\nValidation Rules:\n1. The password reset email should be sent to the Service Provider'\''s registered email address.\n2. The password reset link should be valid for a maximum of 30 minutes.\n3. The new password should meet the minimum password complexity requirements.\n\nBusiness Rules:\n1. The password reset process should be logged for auditing and security purposes.\n2. Service Providers should be required to verify their identity before resetting their password.\n\nNon-Functional Requirements (NFRs):\n1. The password reset process should be completed within 1 minute for 95% of requests.\n2. The password reset feature should be accessible on desktop and mobile devices.\n3. The password reset process should be secure and comply with industry security standards, such as HTTPS and encryption.\n4. The password reset feature should be tested regularly to ensure it is functioning correctly and securely.\"\nStory,Creating and Editing Profile,\"As a Property Owner, I want to be able to create and edit my profile so that I can manage my personal and property information.\",Medium,Profile Management,\"Constraints:\n1. The profile creation and editing process must be accessible to authorized users only.\n2. The profile information must be accurate and up-to-date to ensure seamless property management.\n\nAcceptance Criteria:\n1. Given the Property Owner is logged in, when they access the profile creation/editing page, then they can enter their personal and property information.\n2. Given the Property Owner has entered their profile information, when they submit the changes, then their updated profile is saved and reflected in the system.\n3. Given the Property Owner has edited their profile, when they log out and log back in, then their updated profile information is displayed.\n4. Given the Property Owner has entered invalid or incomplete profile information, when they submit the changes, then an error message is displayed, and the profile information remains unchanged.\n5. Given the Property Owner'\''s profile information is incomplete or inaccurate, when they try to access property management features, then they are prompted to complete or update their profile information.\n\nValidation Rules:\n1. The Property Owner'\''s profile information must include a unique identifier (e.g., email or username).\n2. The Property Owner'\''s profile information must be validated to ensure it meets the system'\''s formatting and content requirements.\n3. The Property Owner'\''s profile information must be updated within a reasonable timeframe to ensure accuracy and consistency.\n\nBusiness Rules:\n1. The Property Owner is responsible for maintaining the accuracy and completeness of their profile information.\n2. The system may send automated reminders to Property Owners to update their profile information if it becomes outdated or incomplete.\n\nNon-Functional Requirements (NFRs):\n1. The profile creation and editing process should be easy to use, with clear instructions and minimal errors.\n2. The profile creation and editing process should be accessible on both desktop and mobile devices.\n3. The profile information should be stored securely in compliance with industry security standards and regulations.\n4. The system should prevent unauthorized users from accessing or modifying the Property Owner'\''s profile information.\"\nStory,Service Provider Profile,\"As a Service Provider, I want to create and edit my profile so that I can manage my personal and job-related information.\",Medium,Profile Management,\"Constraints:\n1. The profile creation and editing process must be accessible only to authorized users.\n2. The profile information must be accurate and up-to-date to ensure the Service Provider'\''s information is properly reflected in the system.\n\nAcceptance Criteria:\n1. Given the Service Provider is logged in, when they access the profile creation/editing page, then they can enter their personal and job-related information.\n2. Given the Service Provider has entered their profile information, when they submit the changes, then their updated profile is saved and reflected in the system.\n3. Given the Service Provider has edited their profile, when they log out and log back in, then their updated profile information is displayed.\n4. Given the Service Provider has entered invalid or incomplete profile information, when they submit the changes, then an error message is displayed, and the profile information remains unchanged.\n5. Given the Service Provider'\''s profile information is incomplete or inaccurate, when they try to access job-related features, then they are prompted to complete or update their profile information.\n\nValidation Rules:\n1. The Service Provider'\''s profile information must include a unique identifier (e.g., email or username).\n2. The Service Provider'\''s profile information must be validated to ensure it meets the system'\''s formatting and content requirements.\n3. The Service Provider'\''s profile information must be updated within a reasonable timeframe to ensure accuracy and consistency.\n\nBusiness Rules:\n1. The Service Provider is responsible for maintaining the accuracy and completeness of their profile information.\n2. The system may send automated reminders to Service Providers to update their profile information if it becomes outdated or incomplete.\n\nNon-Functional Requirements (NFRs):\n1. The profile creation and editing process should be easy to use, with clear instructions and minimal errors.\n2. The profile creation and editing process should be accessible on both desktop and mobile devices.\n3. The profile information should be stored securely in compliance with industry security standards and regulations.\n4. The system should prevent unauthorized users from accessing or modifying the Service Provider'\''s profile information.\""
}'
```

```json
{
    "status": "processing",
    "invocationId": "41efcc9d-f80a-47a1-9bd2-d29af00d49d8",
    "response": [
        {
            "message": "\nThe generation of manual testcases has started. Please use the following URL after 10 minutes, and within 24 hours, to access the generated manual testcases:\n\nhttp://127.0.0.1:8080/public/xlsx_builder/xlsx_77bcf9c1-00b4-48ce-8bb7-530184c39876.xlsx",
            "type": "text"
        }
    ]
}
```
